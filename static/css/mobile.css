/* Mobile-first tweaks & safe-area handling */

:root {
  /* fluid type/scales tuned for phones */
  --step--1: clamp(0.85rem, 0.82rem + 0.3vw, 0.95rem);
  --step-0: clamp(0.95rem, 0.90rem + 0.4vw, 1.05rem);
  --step-1: clamp(1.05rem, 0.98rem + 0.6vw, 1.25rem);
  --step-2: clamp(1.25rem, 1.10rem + 1.1vw, 1.5rem);
}

html, body {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.site-header,
.site-footer {
  padding-top: calc(8px + env(safe-area-inset-top));
  padding-bottom: calc(8px + env(safe-area-inset-bottom));
}

/* Tables: allow horizontal scroll within their wrappers on small screens */
@media (max-width: 768px) {
  .table-wrap, .stat-table-wrap, .ballot-grid-wrap {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  table { min-width: 600px; } /* ensures columns donâ€™t crush */
}

/* Touch targets */
button, .btn, .site-nav__link {
  min-height: 44px;
}

/* Typography scale on mobile */
h1 { font-size: var(--step-2); }
h2 { font-size: var(--step-1); }
body, p, li { font-size: var(--step-0); }
small, .small { font-size: var(--step--1); }

/* Prevent any card content from overflowing its box */
.card, .stats-card, .container {
  overflow: visible;
}


/* Mobile-first spacing & rhythm */
.index-hero__head { display: grid; gap: 6px; }
.index-hero__title { margin: 0; font-size: clamp(20px, 4.6vw, 28px); line-height: 1.15; }
.index-hero__subtitle { margin: 0; font-size: clamp(14px, 3.8vw, 16px); }

.index-actions { margin-top: 12px; display: grid; gap: 10px; }
.btn-row { display: flex; flex-wrap: wrap; gap: 10px; }

.split-row {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;
}
.split-row .mb-0 { margin-bottom: 0; }
.split-row .mt-0 { margin-top: 0; }
.align-end { display: flex; justify-content: flex-end; }

.admin-actions {
  grid-column: 1 / -1;
  display: flex;
  gap: 10px;
  justify-content: flex-end;
}

/* Form grid refinement on tiny screens */
.form-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

@media (min-width: 520px) {
  .form-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    align-items: end;
  }
}

/* Touch targets and prevent overflow */
.card .btn,
.card button,
.card a.btn {
  min-height: 40px;
}

.container {
  /* ensure no horizontal scroll due to inner elements */
  overflow-x: clip;
}