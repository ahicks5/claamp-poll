{% extends "base.html" %}
{% block title %}All Polls{% endblock %}
{% block content %}
<section class="container stack">
  <div class="card">
    <header class="split-row">
      <h2 class="mb-0">Poll Directory</h2>
      <a class="btn" href="{{ url_for('poll.dashboard') }}">Back to Dashboard</a>
    </header>
    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Season</th>
            <th>Week</th>
            <th>Title</th>
            <th>Status</th>
            <th>Open</th>
          </tr>
        </thead>
        <tbody>
        {% for p in polls %}
          <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.season }}</td>
            <td>{{ p.week }}</td>
            <td>{{ p.title }}</td>
            <td>{{ 'Open' if p.is_open else 'Closed' }}</td>
            <td>
              <a class="btn sm" href="{{ url_for('poll.results', poll_id=p.id) }}">Results</a>
            </td>
          </tr>
        {% else %}
          <tr><td colspan="6" class="muted">No polls yet.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}
